USER QUERY----------

//-------GET USER
query getUsers {
  users {
    _id
    email
    role
    engineer{
      _id
    }
    admin {
     _id
    }
  }
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET USER BY EMAIL
query getUserByEmail($email: String) {
  user(email: $email) {
    email
    role
  }
}

### Variables
{
  "email": "ayan@gmail.com"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


ENGINEER QUERY----------

//-------GET ENGINEERS
query getEngineer {
  engineers {
    _id
    Fname
    email
  }
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}



//-------GET ENGINEER BY EMP ID
query getEngineerById($EMP_id: String!) {
  engineer(EMP_id: $EMP_id) {
    Fname
    email
  }
}

### Variables
{
  "EMP_id": "857"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET ALL REPORTS
query getAllReports{
  allReports{
    _id
    date
    pdf
    engineer_EMP
    engineer_name
    company
    createdId
  }
}


# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET REPORT BY ID
query getReportById($createdId: String!){
  report(createdId: $createdId){
    _id
    date
    pdf
    engineer_EMP
    engineer_name
    company
    createdId
  }
}

### Variables
{
  "createdId": "198"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET REPORT BY COMPANY NAME
query getReportByCompany($company: String!){
  reportByCompany(company: $company) {
    _id
    date
    pdf
    engineer_EMP
    engineer_name
    company
    createdId
  }
}

### Variables
{
  "company": "tata"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET REPORT BY ENGINEER
query getReportByEngineer($engineer_EMP: String!){
  reportByEngineer(engineer_EMP: $engineer_EMP) {
    _id
    date
    pdf
    engineer_EMP
    engineer_name
    company
    createdId
  }
}

### Variables
{
  "engineer_EMP": "858"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET REPORT BY DATE
query getReportByDate($date: String!){
  reportByDate(date: $date) {
    _id
    date
    pdf
    engineer_EMP
    engineer_name
    company
    createdId
  }
}

### Variables
{
  "date": "27-11-2023"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET EXPENSE REPORTS BY STATUS
query GetExpenseReportsByStatus($status: ExpenseStatus!){
  expenseReportsByStatus(status: $status){
   _id
    date
    time
    eng_emp
    eng_name
    company_name
    company_location
    call_id
    total_expense
    total_kilometer
    expense_amount
    isApprove
    status
    eng_desc
    admin_desc
  }
}

### Variables
{
  "status": "RECENT" //["APPROVED", "REJECT", "RECENT", "ALL", "PENDING"]
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET EXPENSE REPORT BY ID
query getExpenseReportById($_id: ID!){
  expenseReport(_id: $_id){
    _id
    date
    time
    amount
    engineer_EMP
    engineer_name
    location
    isApprove
  }
}

### Variables
{
  "_id": "6569b5bc09f86b810325f892"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}



//-------GET EXPENSE REPORTS BY DATE
query getExpenseReportsByDate($date: String!){
  expenseReportByDate(date: $date){
    _id
    date
    time
    amount
    engineer_EMP
    engineer_name
    location
    isApprove
  }
}

### Variables
{
  "date": "26-10-2023"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET EXPENSE REPORTS BY ENGINEER
query ExpenseReportByEngineer($eng_emp: String!){
  expenseReportByEng(eng_emp: $eng_emp){
    eng_id
    eng_name
    expense_list{
      date
      time
      eng_emp
      eng_name
      company_name
      company_location
      call_id
      total_expense
      total_kilometer
      expense_amount
      isApprove
      eng_desc
      admin_desc
    }
  }
}

### Variables
{
  "eng_emp": "859"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET CALLS BY STATUS
query GetCallsByStatus($status: String!) {
  calls: callsByStatus(status: $status) {
    _id
    company_name
    company_details
    company_location
    company_address
    eng_name
    eng_emp
    assigned_date
    assigned_time
    description
    call_id
    submit_date
    completed
    expense_amount
    report
    status
  }
}


### Variables
{
  "status": "RUNNING"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET CALLS BY ID
query GetCallsById($_id: ID!){
  call(_id: $_id){
    _id
    company_name
    company_details
    company_location
    company_address
    eng_name
    eng_emp
    assigned_date
    assigned_time
    description
    call_id
    submit_date
    completed
    expense_amount
    report
    status
  }
}

### Variables
{
  "_id": "658276ad471ec7afa7cb634f"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET CALLS BY ENGINEER
query GetCallsByEngineer($eng_emp: String!, $status: CallStatus!) {
  callsByEng(eng_emp: $eng_emp, status: $status) {
    eng_id
    eng_name
    call_list {
      call_id
      company_name
      company_details
      company_location
      company_address
      assigned_date
      assigned_time
      submit_date
      report
      description
    }
  }
}


### Variables
{
  "eng_emp": "858",
  "status": "ALL"
}


# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}

//-------GET CALLS BY DATE
query GetCallsByDate($date: String!){
  calls: callsByDate(date: $date){
   _id
    company_name
    company_details
    company_location
    company_address
    eng_name
    eng_emp
    assigned_date
    assigned_time
    description
    call_id
    submit_date
    completed
    expense_amount
    report
    status
  }
}

### Variables
{
  "date": "25-10-2023"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}


//-------GET CALLS BY DATE
query GetAttendenceByEngineer($eng_emp: String!){
  AttendenceList:getAttendenceByEng(eng_emp: $eng_emp){
    eng_name
    eng_emp
    attendence{
      time
      date
    }
  }
}

### Variables
{
  "eng_emp": "858"
}

# CHECK AUTHORIZATION
{
  "authorization": "yourTokenHere"
}